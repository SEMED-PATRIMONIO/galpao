<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>ADM SEMED | Gestão de Estoque</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="login-screen">
        <div class="login-card">
            <img src="brasao.jpg" alt="Brasão SEMED" class="login-brasao">
            <h2>ESTOQUE SEMED</h2>
            <input type="text" id="login-usuario" placeholder="Usuário">
            <input type="password" id="login-senha" placeholder="Senha">
            <button id="btn-login">ENTRAR</button>
        </div>
    </div>

    <div id="main-app" class="hidden">
        <header>
            <div class="header-left">
                <img src="brasaomd.png" alt="Brasão" class="header-brasao">
                <h1>ALMOXARIFADO SEMED</h1>
            </div>
            <div class="user-info">
                <span id="user-display">Usuário</span>
                <button onclick="abrirModalSenha()" id="btn-mudar-senha-topo" title="Alterar Senha">
                    <i class="fas fa-key"></i>
                </button>
                <button onclick="logout()"><i class="fas fa-power-off"></i></button>
            </div>
        </header>

        <nav id="tabs">
            <button class="tab-btn active" onclick="mudarTab(event, 'item')"><i class="fas fa-boxes-stacked"></i> Estoque</button>
            <button class="tab-btn" onclick="mudarTab(event, 'local')"><i class="fas fa-map-marker-alt"></i> Locais</button>
            <button class="tab-btn" onclick="mudarTab(event, 'categoria')"><i class="fas fa-tags"></i> Categorias</button>
            <button class="tab-btn" onclick="mudarTab(event, 'historico')"><i class="fas fa-history"></i> Histórico</button>
        </nav>

        <div class="action-bar">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="inputBusca" placeholder="Pesquisar registro...">
            </div>

            <div id="item-actions" class="hidden">
                <button onclick="prepararMovimentacaoSelecionada('ENTRADA')" class="btn-in">ENTRADA</button>
                <button onclick="prepararMovimentacaoSelecionada('SAIDA')" class="btn-out">SAÍDA</button>
                <button onclick="prepararEdicao('SALDO')" class="btn-edit">SALDO</button>
                <button onclick="prepararEdicao('ALERTA')" class="btn-warn">ALERTA</button>
                <button onclick="abrirPanoramaSelecionado()" class="btn-panorama">PANORAMA</button>
                <button onclick="excluirItemLogico()" class="btn-danger" style="background-color: #dc2626; color: white; border: none; padding: 10px 15px; border-radius: 6px; font-weight: bold; cursor: pointer;">
                    <i class="fas fa-trash"></i> EXCLUIR
                </button>
            </div>

            <div class="right-controls">
                <button onclick="togglePrintMenu()" class="btn-gamified btn-print"><i class="fas fa-print"></i></button>
                <div id="print-menu" class="hidden shadow-pop">
                    <button onclick="gerarRelatorio('estoque-atual')">Saldo Atual</button>
                    <button onclick="gerarRelatorio('estoque-baixo')">Estoque Baixo</button>
                </div>
                <button onclick="abrirModalNovo()" class="btn-gamified btn-new"><b>+</b> NOVO</button>
            </div>
        </div>

        <div id="header-estoque" class="fixed-header hidden">
            <div class="h-col col-nome">PRODUTO</div>
            <div class="h-col col-qtd">QTD ESTOQUE</div>
            <div class="h-col col-alerta">ALERTA</div>
            <div class="h-col col-extra">INFO</div>
        </div>

        <div id="header-historico" class="fixed-header hidden">
            <div class="h-col hist-data">DATA</div>
            <div class="h-col hist-item">ITEM</div>
            <div class="h-col hist-tipo">MOVIMENTAÇÃO</div>
            <div class="h-col hist-qtd">QUANTIDADE</div>
            <div class="h-col hist-nf">NOTA FISCAL</div>
            <div class="h-col hist-dest">DESTINO</div>
        </div>

        <main id="tab-content"></main>
    </div>

    <div id="modalEstoque" class="modal hidden">
        <div class="modal-content">
            <h3 id="modalTitulo">Ação</h3>
            <div id="corpoModal"></div>
            <div class="modal-actions">
                <button onclick="fecharModal()" class="btn-cancel">Cancelar</button>
                <button id="btnConfirmarGeral" class="btn-confirm">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>