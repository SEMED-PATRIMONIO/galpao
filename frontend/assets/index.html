<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas Fotos & Amigos üì∏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="sidebar">
        <h1 style="font-size: 32px; text-align: center;">üì∏ Minhas Fotos</h1>
        <h2 style="text-align: center; font-size: 32px;">
            <span id="camera-logo" title="Clique duas vezes para ver o hist√≥rico" style="cursor: pointer; user-select: none;">üì∏</span> 
            Galeria
        </h2>
        <div id="modal-historico" class="modal-overlay">
            <div class="glass-modal" style="max-width: 95%; width: 1100px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="font-size: 36px;">üìú Hist√≥rico de Envios</h2>
                    <button onclick="fecharHistorico()" style="background: var(--accent-warn); padding: 15px 40px;">‚¨ÖÔ∏è VOLTAR</button>
                </div>

                <div style="overflow-x: auto; background: rgba(255,255,255,0.3); border-radius: 20px; padding: 10px;">
                    <table id="tabela-historico" style="width: 100%; border-collapse: collapse; font-size: 22px; text-align: left;">
                        <thead>
                            <tr style="border-bottom: 2px solid var(--text-main);">
                                <th style="padding: 15px;">Data/Hora</th>
                                <th style="padding: 15px;">Amigo</th>
                                <th style="padding: 15px;">E-mail</th>
                                <th style="padding: 15px;">Foto</th>
                                <th style="padding: 15px;">Tipo</th>
                            </tr>
                        </thead>
                        <tbody id="lista-historico">
                            </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="glass-card">
            <p style="margin-bottom: 10px;">üìÇ <strong>Escolher Pasta:</strong></p>
            <input type="file" id="folder-picker" webkitdirectory directory multiple>
            <div class="thumbnail-list" id="thumbnails">
                </div>
        </div>

        <div class="glass-card" style="flex-grow: 1; display: flex; flex-direction: column;">
            <h2 style="font-size: 28px; margin-bottom: 15px;">üë• Agenda de Amigos</h2>
            
            <div id="form-contato">
                <input type="text" id="name" placeholder="Nome do Amigo" class="input-grande">
                <input type="email" id="email" placeholder="E-mail" class="input-grande">
                
                <div style="display: flex; gap: 10px;">
                    <button id="btn-salvar" onclick="saveContact()" style="background: var(--accent-color); flex: 2;">
                        üíæ Salvar
                    </button>
                    <button onclick="limparFormulario()" style="background: #ccc; flex: 1; font-size: 18px;">
                        üßπ Limpar
                    </button>
                </div>
            </div>

            <hr style="margin: 20px 0; border: 1px solid rgba(255,255,255,0.3);">

            <div id="contacts-list" style="overflow-y: auto; flex-grow: 1;">
                </div>
        </div>
    </div>

    <div id="viewer">
        <div id="empty-state">
            <h2 style="font-size: 40px; color: rgba(0,0,0,0.3);">
                Escolha uma foto ao lado para come√ßar! ‚ú®
            </h2>
        </div>

        <img id="image-display" src="" alt="Foto selecionada">

        <div id="actions" style="display: none; width: 100%; max-width: 700px;">
            <div id="progress-container" style="display: none; width: 100%; background: rgba(0,0,0,0.1); border-radius: 10px; height: 30px; margin-bottom: 20px; overflow: hidden; border: 1px solid rgba(255,255,255,0.5);">
                <div id="progress-bar" style="width: 0%; height: 100%; background: var(--accent-soft); transition: width 0.2s;"></div>
            </div> 
            <div id="progress-container" style="display: none; width: 100%; background: rgba(0,0,0,0.1); border-radius: 10px; height: 30px; margin-bottom: 20px; overflow: hidden; border: 1px solid rgba(255,255,255,0.5);">
                <div id="progress-bar" style="width: 0%; height: 100%; background: var(--accent-soft); transition: width 0.2s;"></div>
            </div>                       
            <div class="glass-card">
                <h3 style="font-size: 30px; margin-bottom: 20px;">üìß Enviar para algu√©m?</h3>
                
                <p>Para quem:</p>
                <select id="contact-select">
                    <option>Selecione o amigo...</option>
                </select>

                <p>Assunto:</p>
                <input type="text" id="email-subject" placeholder="Ex: Foto que tirei hoje!">
                <button onclick="sendEmail()" style="width: 100%; height: 90px; background: #5c6bc0; color: white;">
                    üöÄ Enviar Agora
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>